<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Queue Visualizer — enqueue / dequeue / peek / isEmpty / size</title>
<style>
  :root{
    --bg: #0f1220;
    --panel: #161a2d;
    --panel-2: #1e2340;
    --accent: #6cf3ff;
    --accent-2:#8ae9c1;
    --text: #ecf2ff;
    --muted:#a6b0cf;
    --danger:#ff6b6b;
    --warning:#ffd166;
    --ok:#84fab0;
    --slot:#2a305a;
    --chip:#39407a;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius:16px;
    --radius-sm:10px;
    --gap:14px;
    --speed: 300ms;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    color:var(--text);
    background: radial-gradient(1200px 800px at 20% -10%, #1a1f3e 0%, #0f1220 50%, #0b0e1a 100%);
    min-height:100svh;
    line-height:1.4;
    display:grid;
    place-items:start center;
    padding:24px;
  }
  .app{
    width:min(1100px, 100%);
    display:grid;
    gap: var(--gap);
  }
  header{
    display:flex; align-items:center; justify-content:space-between;
    gap: var(--gap); flex-wrap:wrap;
  }
  .title{
    display:flex; gap:12px; align-items:center;
  }
  .logo{
    width:42px; height:42px; border-radius:12px;
    background:
      radial-gradient(14px 14px at 12px 12px, var(--accent), transparent 70%),
      radial-gradient(16px 16px at 28px 28px, var(--accent-2), transparent 70%),
      linear-gradient(135deg, #2a2f55, #151936);
    box-shadow: var(--shadow);
  }
  h1{font-size: clamp(20px, 3vw, 28px); margin:0}
  .sub{color:var(--muted); font-size:14px}

  .panel{
    background:linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
    border:1px solid #252b50;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: clamp(14px, 2.2vw, 20px);
  }

  /* Controls */
  .controls{
    display:grid;
    grid-template-columns: 1.1fr 1fr;
    gap: var(--gap);
  }
  @media (max-width: 820px){
    .controls{ grid-template-columns: 1fr; }
  }
  .controls .block{
    display:grid; gap:10px;
  }
  .row{
    display:flex; gap:10px; flex-wrap:wrap;
  }
  input[type="text"]{
    flex:1 1 220px;
    background:#0f1330;
    border:1px solid #2b3268;
    color:var(--text);
    padding:12px 14px;
    border-radius: var(--radius-sm);
    outline:none;
  }
  input::placeholder{color:#7f86b7}
  .btn{
    border:1px solid #2b3268;
    background: #11163a;
    color: var(--text);
    padding:12px 16px;
    border-radius: var(--radius-sm);
    cursor:pointer;
    transition: transform .05s ease, border-color var(--speed), background var(--speed);
    user-select:none;
  }
  .btn:hover{border-color:#3c4590}
  .btn:active{ transform: translateY(1px) }
  .btn.primary{ background: linear-gradient(180deg, #1a2259, #141a45); border-color:#3a46a7 }
  .btn.danger{ background: linear-gradient(180deg, #4a1530, #330f22); border-color:#7f214f }
  .btn.ghost{ background: transparent; }

  /* Stats */
  .stats{
    display:grid; grid-template-columns: repeat(5,minmax(0,1fr));
    gap: var(--gap);
  }
  @media (max-width: 680px){
    .stats{ grid-template-columns: repeat(3,minmax(0,1fr)); }
  }
  .stat{
    padding:14px;
    border-radius:12px;
    background: #12173a;
    border:1px solid #27306b;
    text-align:center;
  }
  .stat .k{ font-size: 22px; font-weight:700 }
  .stat .k.small{ font-size: 18px }
  .stat .l{ color: var(--muted); font-size:12px }

  /* Queue Track */
  .scene{
    display:grid; gap:10px;
  }
  .track-wrap{
    overflow:auto;
    border-radius: var(--radius);
    border:1px dashed #2c336a;
    background: repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0 40px, rgba(255,255,255,0) 40px 80px),
                radial-gradient(1200px 300px at 50% -50%, rgba(108,243,255,.1), transparent 60%);
  }
  .track{
    position:relative;
    min-height:110px;
    display:flex; align-items:center;
    padding: 22px;
    gap: 14px;
  }
  .slot{
    width: 86px; height: 64px; border-radius: 12px;
    background: var(--slot);
    border:1px solid #2e3568;
    flex: 0 0 auto;
    position:relative;
    display:grid; place-items:center;
    color:#6e77b3;
    font-size:12px;
    letter-spacing:.3px;
  }
  .chip{
    position:absolute;
    inset:auto auto 8px 8px;
    padding: 8px 10px;
    background: linear-gradient(180deg, #4952a0, #2e377c);
    border:1px solid #5c66c2;
    color:white;
    border-radius:10px;
    min-width: 60px; text-align:center;
    box-shadow: 0 8px 18px rgba(0,0,0,.35);
    transform: translateX(var(--x, 0px)) scale(var(--scale, 1));
    transition: transform var(--speed) ease, box-shadow var(--speed) ease, background var(--speed) ease, border-color var(--speed) ease;
    pointer-events:none;
  }
  .chip.peek{
    background: linear-gradient(180deg, #6c9dff, #4c6ad9);
    border-color:#85b1ff;
    box-shadow: 0 10px 24px rgba(72, 123, 255, .4);
  }
  .slot .idx{
    position:absolute; top:6px; right:8px; font-size:11px; color:#8790d0;
  }
  .labels{
    display:flex; justify-content:space-between; align-items:center; gap:10px;
    color:var(--muted);
    font-size:12px;
  }
  .legend{
    display:flex; gap:10px; align-items:center; flex-wrap:wrap;
  }
  .tag{display:inline-grid; grid-auto-flow:column; gap:8px; align-items:center; background:#11163a; padding:6px 10px; border-radius:999px; border:1px solid #2b3268}
  .dot{width:10px; height:10px; border-radius:999px; background:var(--accent)}
  .dot.peek{ background:#6c9dff }
  .dot.empty{ background:#6e77b3 }

  /* Console / Log */
  .console{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace;
    background:#0b0f28;
    border:1px solid #23306b;
    border-radius: var(--radius);
    padding: 14px;
    min-height: 80px;
    max-height: 220px;
    overflow:auto;
  }
  .line{ color:#cfe2ff; }
  .line .fn{ color:#8ae9c1 }
  .line .kw{ color:#ffd166 }
  .line .er{ color:var(--danger) }
  .line .ok{ color:var(--ok) }
  .line .muted{ color:#8ca1ff }

  /* Footer & help */
  details{
    background:#0b0f28;
    border:1px solid #24306c;
    border-radius: var(--radius);
    padding:12px 16px;
  }
  details > summary{
    cursor:pointer; color:#b9c7ff; outline:none; user-select:none;
  }
  code.inline{ background:#11163a; border:1px solid #2b3268; padding:2px 6px; border-radius:6px }
  .kbd{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace; background:#12173a; border:1px solid #2b3268; padding:2px 6px; border-radius:6px }
  .sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0 }
</style>
</head>
<body>
<div class="app">
  <header>
    <div class="title">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1>Queue Visualizer</h1>
        <div class="sub">Interactive learning tool for <code class="inline">enqueue</code>, <code class="inline">dequeue</code>, <code class="inline">peek</code>, <code class="inline">isEmpty</code>, and <code class="inline">size</code>.</div>
      </div>
    </div>
  </header>

  <section class="panel controls" aria-labelledby="controlsLabel">
    <h2 id="controlsLabel" class="sr-only">Controls</h2>
    <div class="block">
      <div class="row">
        <input id="valueInput" type="text" placeholder="Value to enqueue (e.g. A, 42, apple)" aria-label="Value to enqueue" />
        <button id="enqueueBtn" class="btn primary" title="enqueue(value)">Enqueue</button>
        <button id="dequeueBtn" class="btn danger" title="dequeue()">Dequeue</button>
        <button id="peekBtn" class="btn" title="peek()">Peek</button>
      </div>
      <div class="row">
        <button id="isEmptyBtn" class="btn ghost" title="isEmpty()">isEmpty?</button>
        <button id="sizeBtn" class="btn ghost" title="size()">size()</button>
        <button id="clearBtn" class="btn" title="Clear queue">Clear</button>
        <button id="fillBtn" class="btn" title="Fill with sample data">Quick Fill</button>
        <label class="sr-only" for="capacity">Capacity</label>
        <input id="capacity" type="text" inputmode="numeric" pattern="\\d*" placeholder="Capacity (optional)" title="Optional capacity (leave blank for unlimited)" />
        <button id="applyCapBtn" class="btn" title="Apply capacity">Set Capacity</button>
      </div>
    </div>

    <div class="block">
      <div class="stats">
        <div class="stat"><div class="k" id="sizeK">0</div><div class="l">Size</div></div>
        <div class="stat"><div class="k small" id="frontK">—</div><div class="l">Front</div></div>
        <div class="stat"><div class="k small" id="rearK">—</div><div class="l">Rear</div></div>
        <div class="stat"><div class="k small" id="capK">∞</div><div class="l">Capacity</div></div>
        <div class="stat"><div class="k" id="emptyK">true</div><div class="l">isEmpty</div></div>
      </div>
    </div>
  </section>

  <section class="panel scene" aria-labelledby="queueLabel">
    <div class="labels">
      <div id="queueLabel">Queue</div>
      <div class="legend">
        <span class="tag"><span class="dot"></span> <span>Element</span></span>
        <span class="tag"><span class="dot peek"></span> <span>Peek</span></span>
        <span class="tag"><span class="dot empty"></span> <span>Empty slot</span></span>
      </div>
    </div>

    <div class="track-wrap" tabindex="0" aria-live="polite" aria-label="Queue track (scrollable)">
      <div id="track" class="track" role="list" aria-describedby="desc"></div>
    </div>
    <div id="desc" class="sub">Left side is the <strong>front</strong> of the queue. New items join at the <strong>rear</strong> (right).</div>
  </section>

  <section class="panel">
    <div class="sub" style="margin-bottom:8px">Console</div>
    <div id="console" class="console" aria-live="polite"></div>
  </section>

  <details>
    <summary>Show reference implementation (vanilla JS)</summary>
<pre class="sub"><code>// Methods:
enqueue(value)  // push to rear
dequeue()       // remove & return front
peek()          // read front without removing
isEmpty()       // size === 0
size()          // number of elements
// This visualizer keeps an internal array and (optionally) a capacity.
</code></pre>
  </details>

  <div id="srAlert" class="sr-only" aria-live="assertive"></div>
</div>

<script>
(function(){
  const track = document.getElementById('track');
  const consoleEl = document.getElementById('console');
  const input = document.getElementById('valueInput');
  const sizeK = document.getElementById('sizeK');
  const frontK = document.getElementById('frontK');
  const rearK = document.getElementById('rearK');
  const emptyK = document.getElementById('emptyK');
  const capK = document.getElementById('capK');
  const srAlert = document.getElementById('srAlert');

  const enqueueBtn = document.getElementById('enqueueBtn');
  const dequeueBtn = document.getElementById('dequeueBtn');
  const peekBtn = document.getElementById('peekBtn');
  const isEmptyBtn = document.getElementById('isEmptyBtn');
  const sizeBtn = document.getElementById('sizeBtn');
  const clearBtn = document.getElementById('clearBtn');
  const fillBtn = document.getElementById('fillBtn');
  const capInput = document.getElementById('capacity');
  const applyCapBtn = document.getElementById('applyCapBtn');

  /** Queue model **/
  let q = [];
  let capacity = Infinity;

  function isEmpty(){ return q.length === 0; }
  function size(){ return q.length; }
  function peek(){ return isEmpty() ? undefined : q[0]; }
  function enqueue(value){
    if(value === '' || value === undefined || value === null){
      toast('enqueue', 'Provide a value to enqueue.', 'er');
      return false;
    }
    if(size() >= capacity){
      toast('enqueue', `Queue is at capacity (${capacity}).`, 'er');
      flashCapacity();
      return false;
    }
    q.push(String(value));
    render();
    toast('enqueue', `Added <span class="ok">${escapeHTML(value)}</span> to rear.`);
    return true;
  }
  function dequeue(){
    if(isEmpty()){
      toast('dequeue', 'Queue is empty.', 'er');
      bumpTrack();
      return undefined;
    }
    const v = q.shift();
    render();
    toast('dequeue', `Removed <span class="ok">${escapeHTML(v)}</span> from front.`);
    return v;
  }

  /** UI helpers **/
  function render(){
    track.innerHTML = '';
    const len = Math.max(q.length, Math.min(q.length + 3, 10)); // show a few empty slots
    for(let i=0;i<len;i++){
      const slot = document.createElement('div');
      slot.className = 'slot';
      slot.setAttribute('role','listitem');
      slot.innerHTML = `<span class="idx">#${i}</span>${q[i]===undefined?'<span>empty</span>':''}`;
      if(q[i] !== undefined){
        const chip = document.createElement('div');
        chip.className = 'chip';
        chip.textContent = q[i];
        chip.style.setProperty('--x', '0px');
        // Mark the peek (front) element
        if(i===0) chip.classList.add('peek');
        slot.appendChild(chip);
      }
      track.appendChild(slot);
    }
    // stats
    sizeK.textContent = size();
    emptyK.textContent = String(isEmpty());
    frontK.textContent = isEmpty() ? '—' : q[0];
    rearK.textContent = isEmpty() ? '—' : q[q.length-1];
    capK.textContent = capacity === Infinity ? '∞' : String(capacity);
    // keep newest elements in view
    requestAnimationFrame(()=> {
      track.parentElement.scrollLeft = track.parentElement.scrollWidth;
    });
  }

  function toast(fnName, msg, kind){
    const line = document.createElement('div');
    line.className = 'line';
    line.innerHTML = `<span class="fn">${fnName}()</span> <span class="${kind||'kw'}">→</span> ${msg}`;
    consoleEl.appendChild(line);
    consoleEl.scrollTop = consoleEl.scrollHeight;
    srAlert.textContent = fnName + ' - ' + line.textContent;
  }

  function escapeHTML(str){
    return String(str).replace(/[&<>"']/g, s => ({
      '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
    }[s]));
  }

  function bumpTrack(){
    track.animate([
      { transform:'translateX(0)' },
      { transform:'translateX(-6px)' },
      { transform:'translateX(0)' }
    ], { duration: 180, easing: 'ease-out' });
  }
  function flashCapacity(){
    capK.animate([{background:'#2b2f5a'},{background:'#4a1b2f'},{background:'#2b2f5a'}],
      {duration:600, easing:'ease'});
  }

  /** Wire up controls **/
  enqueueBtn.addEventListener('click', () => {
    const v = input.value.trim();
    enqueue(v);
    input.value = '';
    input.focus();
  });
  dequeueBtn.addEventListener('click', () => { dequeue(); });
  peekBtn.addEventListener('click', () => {
    const v = peek();
    if(v===undefined) {
      toast('peek', 'Queue is empty.', 'er'); bumpTrack();
    } else {
      toast('peek', `Front is <span class="ok">${escapeHTML(v)}</span>.`, 'kw');
      // subtle highlight
      const firstChip = track.querySelector('.chip');
      if(firstChip){
        firstChip.animate([
          { transform:'scale(1)' }, { transform:'scale(1.06)' }, { transform:'scale(1)' }
        ], { duration: 250, easing:'ease-out' });
      }
    }
  });
  isEmptyBtn.addEventListener('click', () => {
    toast('isEmpty', `<strong>${isEmpty()}</strong>`, 'kw');
  });
  sizeBtn.addEventListener('click', () => {
    toast('size', `<strong>${size()}</strong>`, 'kw');
  });
  clearBtn.addEventListener('click', () => {
    q = []; render(); toast('clear', 'Queue cleared.', 'muted');
  });
  fillBtn.addEventListener('click', () => {
    const seed = ['A','B','C','D','E'];
    q = seed.slice(0, Math.max(3, Math.floor(Math.random()*seed.length)+1));
    render();
    toast('fill', `Filled with [${q.join(', ')}].`, 'muted');
  });
  applyCapBtn.addEventListener('click', () => {
    const raw = capInput.value.trim();
    if(raw===''){ capacity = Infinity; capK.textContent='∞'; toast('capacity','Unlimited capacity set.','muted'); return; }
    const n = Number(raw);
    if(!Number.isInteger(n) || n < 0){
      toast('capacity','Please enter a non-negative integer.','er'); return;
    }
    capacity = n === 0 ? 0 : n;
    toast('capacity', `Capacity set to <strong>${capacity===Infinity?'∞':capacity}</strong>.`, 'muted');
    // Trim if current size exceeds new capacity
    if(size() > capacity){
      const removed = q.splice(capacity);
      render();
      toast('capacity', `Trimmed overflow: [${removed.join(', ')}].`, 'er');
    } else {
      render();
    }
  });

  // Keyboard shortcuts
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' && document.activeElement === input) enqueueBtn.click();
    if(e.key.toLowerCase() === 'd' && (e.ctrlKey || e.metaKey)){ e.preventDefault(); dequeueBtn.click(); }
    if(e.key.toLowerCase() === 'p' && (e.ctrlKey || e.metaKey)){ e.preventDefault(); peekBtn.click(); }
  });

  // Initial render
  render();
})();
</script>
</body>
</html>
