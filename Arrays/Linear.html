<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linear Search Visualizer</title>
<style>
  :root{
    --bg:#0f1220; --panel:#161a2d; --panel-2:#1e2340;
    --text:#ecf2ff; --muted:#a6b0cf;
    --pair:#ffd166; --active:#6cf3ff; --done:#8ae9c1;
    --edge:#556; --edge-pair:#e3b84a; --edge-done:#6fae97;
    --shadow:0 10px 30px rgba(0,0,0,.35);
    --fail:#ff6b6b;
  }
  *{box-sizing:border-box}
  body{
    margin:0; background: radial-gradient(1200px 800px at 70% -10%, #20264a 0%, var(--bg) 40%);
    color:var(--text); font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial;
    min-height:100vh; padding:32px 16px 64px; display:grid; place-items:start center;
  }
  .app{ width:min(1050px,100%); display:grid; gap:16px; }
  .panel{
    background:linear-gradient(180deg,var(--panel) 0%, var(--panel-2) 100%);
    border:1px solid #1a2040; border-radius:14px; box-shadow:var(--shadow); padding:18px;
  }
  .title-row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap;}
  h1{ margin:0; font-size:clamp(22px,3vw,28px);}
  .badge{ background:#0b1022; border:1px solid #28305a; color:var(--muted); padding:6px 10px; border-radius:999px; font-size:12px; display:inline-flex; gap:6px; align-items:center;}
  .badge b{ color:var(--text); }
  .pill{ background:#0e1430; border:1px dashed #2a325e; padding:6px 10px; border-radius:10px;}
  .pill b{ color:var(--pair); }

  .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center;}
  input[type="number"], input[type="text"]{
    background:#0d1126; border:1px solid #242b51; color:var(--text); border-radius:10px; padding:10px 12px; outline:none;
  }
  input[type="text"]{ min-width:220px; }
  button{
    background:#0e1736; color:var(--text); border:1px solid #2b3563; border-radius:12px; padding:10px 14px; cursor:pointer;
    transition:transform .05s ease, background .15s ease;
  }
  button:hover{ background:#121c44; }
  button:active{ transform:translateY(1px); }
  button.primary{ background:linear-gradient(180deg,#0f2b3a,#0b1f2b); border-color:#284a60; }
  button:disabled{ opacity:.55; cursor:not-allowed; }

  .array{
    display:grid; grid-auto-flow:column; grid-auto-columns:minmax(64px,1fr);
    gap:10px; padding:12px; border-radius:12px; background:#101634; border:1px solid #222a55; overflow-x:auto;
  }
  .cell{
    position:relative; background:#0c1128; border:1px solid #27305b; border-radius:10px; min-height:70px;
    display:grid; place-items:center; color:var(--text); font-weight:600; letter-spacing:.2px;
    transition: all .3s ease;
  }
  .index{ position:absolute; top:6px; left:8px; font:11px/1.1 ui-monospace; color:var(--muted); opacity:.85;}
  .cell.active{ outline:2px solid var(--active); }
  .cell.visited{ background:#0d1f22; border-color:var(--edge-done); }
  .cell.found{ outline:3px solid var(--pair); background:#1d2a22; }
  .cell.fail{ outline:2px solid var(--fail); }

  .legend{ display:flex; gap:14px; flex-wrap:wrap; color:var(--muted); font-size:14px;}
  .dot{ width:10px; height:10px; border-radius:999px; display:inline-block; margin-right:6px; vertical-align:middle;}
  .dot.active{ background:var(--active); }
  .dot.done{ background:var(--done); }
  .dot.pair{ background:var(--pair); }
  .dot.fail{ background:var(--fail); }

  pre{ margin:0; background:#0b1026; border:1px solid #222a55; border-radius:12px; padding:14px; overflow:auto; box-shadow:var(--shadow); color:var(--text);}
  code{ font:13px/1.45 ui-monospace, SFMono-Regular, Menlo, Consolas; }
  .note{ color:var(--muted); }
</style>
</head>
<body>
<main class="app">
  <section class="panel">
    <div class="title-row">
      <h1>üîπ Linear Search ‚Äî check elements one by one</h1>
      <span class="badge">‚è± Time: <b>O(n)</b></span>
      <span class="badge">üì¶ Space: <b>O(1)</b></span>
    </div>
    <div class="pill">‚úÖ Works for unsorted arrays</div>
  </section>

  <section class="panel controls">
    <div class="row">
      <label>Array</label>
      <input id="contents" type="text" value="5, 8, 12, 20, 30" />
      <button id="apply" class="primary">Apply</button>
      <button id="shuffle">Randomize</button>
    </div>
    <div class="row">
      <label>Target</label>
      <input id="target" type="text" value="20" />
      <button id="search" class="primary">üîç Search</button>
      <button id="reset">‚ôª Reset</button>
    </div>
    <div class="row">
      <label>Speed</label>
      <input id="speed" type="range" min="0" max="100" value="45" />
      <span id="speedLabel">Medium</span>
    </div>
  </section>

  <section class="panel" aria-label="Visualization">
    <div id="array" class="array"></div>
    <div class="legend" style="margin-top:8px;">
      <span><span class="dot active"></span> Current check</span>
      <span><span class="dot done"></span> Visited</span>
      <span><span class="dot pair"></span> Found target</span>
      <span><span class="dot fail"></span> Not found</span>
    </div>
  </section>

  <section class="panel">
    <h2 style="margin:0 0 10px;">Pseudo-code</h2>
<pre><code>function linearSearch(arr, x):
    for i ‚Üê 0 to arr.length-1:
        if arr[i] == x:
            return i      // found
    return -1             // not found
</code></pre>
    <p class="note">Checks each element until it finds the target. Worst case: <b>O(n)</b>.</p>
  </section>
</main>

<script>
const state = { arr:[5,8,12,20,30], delay:380, animating:false };

const elArray = document.getElementById('array');
const elContents = document.getElementById('contents');
const elApply = document.getElementById('apply');
const elShuffle = document.getElementById('shuffle');
const elTarget = document.getElementById('target');
const elSearch = document.getElementById('search');
const elReset = document.getElementById('reset');
const elSpeed = document.getElementById('speed');
const elSpeedLabel = document.getElementById('speedLabel');

const wait = (ms)=>new Promise(r=>setTimeout(r,ms));
const clamp = (n,a,b)=>Math.max(a,Math.min(b,n));
function speedToDelay(v){
  const t = clamp(v,0,100)/100;
  const eased = 1 - Math.pow(t,1.6);
  return 70 + Math.round(eased*700);
}
function labelSpeed(v){
  if (v<20) return 'Fastest';
  if (v<40) return 'Fast';
  if (v<60) return 'Medium';
  if (v<80) return 'Slow';
  return 'Slowest';
}
function randomArray(n=clamp(Math.floor(Math.random()*6)+4,3,10)){
  return Array.from({length:n},()=>Math.floor(Math.random()*90)+10);
}
function coerceVal(s){
  if (s==='') return '';
  const n=+s;
  return Number.isNaN(n)?s:n;
}

function renderArray(){
  elArray.innerHTML='';
  state.arr.forEach((val,i)=>{
    const cell=document.createElement('div');
    cell.className='cell';
    cell.dataset.index=i;
    cell.innerHTML=`<div class="index">${i}</div><div class="value">${val}</div>`;
    elArray.appendChild(cell);
  });
}

async function animateSearch(target){
  if (state.animating) return;
  state.animating=true;
  const cells=[...elArray.children];
  let found=false;
  for(let i=0;i<state.arr.length;i++){
    const c=cells[i];
    c.classList.add('active');
    await wait(state.delay);
    if (String(state.arr[i])===String(target)){
      c.classList.remove('active');
      c.classList.add('found');
      found=true;
      break;
    }else{
      c.classList.remove('active');
      c.classList.add('visited');
    }
    await wait(state.delay*0.5);
  }
  if (!found){
    cells.forEach(c=>c.classList.add('fail'));
  }
  state.animating=false;
}

elApply.addEventListener('click',()=>{
  const parts=elContents.value.split(',').map(s=>s.trim()).filter(Boolean);
  state.arr=parts.map(coerceVal);
  renderArray();
});
elShuffle.addEventListener('click',()=>{
  state.arr=randomArray();
  elContents.value=state.arr.join(', ');
  renderArray();
});
elSearch.addEventListener('click',()=>{
  const v=coerceVal(elTarget.value.trim());
  animateSearch(v);
});
elReset.addEventListener('click',()=>renderArray());
elSpeed.addEventListener('input',e=>{
  state.delay=speedToDelay(+e.target.value);
  elSpeedLabel.textContent=labelSpeed(+e.target.value);
});

(function init(){
  state.delay=speedToDelay(+elSpeed.value);
  elSpeedLabel.textContent=labelSpeed(+elSpeed.value);
  renderArray();
})();
</script>
</body>
</html>
